<app-header title="Dashboard"></app-header>

<ion-content>
  <!-- Accounts Section -->
  <ion-card class="ion-no-margin" color="fav" style="border-radius: 0px">
    <ion-card-content>
      <h1 class="title-card">List of accounts</h1>
      <ion-grid>
        <ion-row class="center-row">
          <ng-container *ngIf="items.length > 0; else noAccounts">
            <ion-col *ngFor="let item of items;" size="6" sizeMd="2">
              <ion-card class="ion-no-margin">
                <ion-card-content class="text-center acc-card-content">
                  <h2 class="ion-text-capitalize"><b class="account-card">{{ item.account_name }}</b></h2>
                  <p class="account-card">MYR {{ item.balance | currency: 'MYR ' }}</p>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ng-container>

          <ng-template #noAccounts>
            <ion-col size="12" class="text-muted text-center">
              You don't have any account. Let's create a new one.
            </ion-col>
          </ng-template>
        </ion-row>

        <!-- Add Account Button -->
        <ion-row class="center-row">
          <ion-col size="8" sizeMd="2">
            <ion-card class="ion-no-margin btn-add-acc" (click)="modalAddAccount()">
              <ion-card-content class="text-center">
                <div class="add-account-content">
                  <b>Add Account</b>
                  <ion-icon name="add-circle-outline" class="add-icon"></ion-icon>
                </div>
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!-- Expenses Section -->
  <ion-card color="sub-fav" class="m-card">
    <ion-card-content class="ion-padding">
      <h1 class="title-card">Expenses Structure</h1>
      <ion-grid>
        <ion-row>
          <ng-container *ngIf="records.length > 0; else noRecords">
            <ion-col *ngFor="let record of records;" size="12">
              <ion-card class="ion-no-margin">
                <ion-card-content class="record-content">
                  <ion-avatar slot="start" class="record-icon">
                    <ion-icon [name]="record.icon"></ion-icon>
                  </ion-avatar>

                  <div class="record-info">
                    <h2 class="record-title">{{ record.category }}</h2>
                    <p class="record-acc ion-text-capitalize">{{ record.account_name }}</p>
                  </div>

                  <div class="transaction-amount">
                    <p [ngClass]="{ income: record.type === 'income', expense: record.type === 'expense' }">
                      {{ record.type === 'income' ? '+' : '-' }}MYR {{ record.amount | currency: 'MYR ' }}
                    </p>
                    <p class="record-date">{{ record.date | date: 'MMM d' }}</p>
                  </div>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ng-container>

          <ng-template #noRecords>
            <ion-col size="12" class="text-muted text-center">
              You don't have any expenses record. Let's create a new one.
            </ion-col>
          </ng-template>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</ion-content>

<app-fab></app-fab>
